# 海量用户通信即时通信系统
## 功能实现
### 1. 显示界面用户登录界面和登录菜单
- 直接定义用户菜单,利用一个标志位记录用户的选择,另外一个标志位是否继续显示菜单,如果标志位改变就可以退出了
- 之后的每一个函数中取出 key 的值,判断 key 的值进行相关的操作
### 2. 实现用户登录
![img.png](img/img.png)
问题 : 如何设计发送数据的形式: 可以利用 json 的格式发送,但是如何设计结构体,我们认为结构体(Message)中的字段包含:
- Type(其实就是发送数据的类型)
- Data (就是用户信息对应的一个结构体 json 序列化之后的字符串),其中结构体包含用户的基本信息

发送的流程:
1. 首先创建一个 Message 的结构体
2. mes.Type = 登录(注册)消息类型
3. mes.Data = 登录消息的类型
4. 对于mes 进行一个 json 序列化
5. 但是网路中的丢包问题如何解决:
   1. 首先给服务器发送mes 的长度
   2. 之后发送 mes 序列化字符串

服务器端接收消息的流程:
1. 接收到客户端发送的长度 len
2. 根据介绍到的长度和实际接收到消息本身对比 
3. 如果不相等,利用纠错协议(但是  ......)
4. 反序列化为 mes 类型
5. 取出 mes 中的 data 信息
6. 反序列化 data
7. 在数据库中利用 data 的信息查找对应信息
8. 根据比较内容返回一个 message 信息
9. 发送给客户端

但是上面服务器端发送的一个 message 信息结构体如何设计呢? message 结构体中包含以下信息：

- code 状态码
- error 错误信息(或者提示信息)